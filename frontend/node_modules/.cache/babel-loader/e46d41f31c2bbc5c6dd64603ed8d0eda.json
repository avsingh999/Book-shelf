{"ast":null,"code":"import _objectSpread from \"/home/avsingh999/x-men/book-shelf/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/avsingh999/x-men/book-shelf/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nexport function getBooks() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';\n  var list = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var request = axios.get(\"http://localhost:5001/api/books?limit=\".concat(limit, \"&skip=\").concat(start, \"&order=\").concat(order)).then(function (response) {\n    if (list) {\n      return _toConsumableArray(list).concat(_toConsumableArray(response.data));\n    } else {\n      return response.data;\n    }\n  });\n  return {\n    type: 'GET_BOOKS',\n    payload: request\n  };\n}\nexport function getBookWReviewer(id) {\n  console.log(id);\n  var request = axios.get(\"http://localhost:5001/api/getBook?id=\".concat(id));\n  return function (dispatch) {\n    request.then(function (_ref) {\n      var data = _ref.data;\n      var book = data;\n      console.log(book.ownerId);\n      axios.get(\"http://localhost:5001/api/getReviewer?id=\".concat(book.ownerId)).then(function (_ref2) {\n        var data = _ref2.data;\n        var response = {\n          book: book,\n          reviewer: data\n        };\n        dispatch({\n          type: 'GET_BOOK_W_REVIEWER',\n          payload: response\n        });\n      });\n    });\n  };\n}\nexport function clearBookWReviewer() {\n  return {\n    type: \"CLEAR_BOOK_W_REVIEWER\",\n    payload: {\n      book: {},\n      reviewer: {}\n    }\n  };\n}\nexport function loginUser(_ref3) {\n  var email = _ref3.email,\n      password = _ref3.password;\n  var request = axios.post('http://localhost:5001/api/login', {\n    email: email,\n    password: password\n  }, {\n    withCredentials: true\n  }).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'USER_LOGIN',\n    payload: request\n  };\n}\nexport function auth() {\n  var request = axios.get('http://localhost:5001/api/auth', {\n    withCredentials: true\n  }).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'USER_AUTH',\n    payload: request\n  };\n}\nexport function addBook(book) {\n  console.log(book);\n  var request = axios.post('http://localhost:5001/api/book', _objectSpread({}, book)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'ADD_BOOK',\n    payload: request\n  };\n}\nexport function clearNewBook() {\n  return {\n    type: 'CLEAR_NEWBOOK',\n    payload: {}\n  };\n}\nexport function getUserPost(userId) {\n  var request = axios.get(\"http://localhost:5001/api/user_posts?user=\".concat(userId)).then(function (response) {\n    return response.data;\n  }); // console.log(request)\n\n  return {\n    type: 'GET_USER_POST',\n    payload: request\n  };\n}\nexport function getBook(id) {\n  console.log(id);\n  var request = axios.get(\"http://localhost:5001/api/getBook?id=\".concat(id)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'GET_BOOK',\n    payload: request\n  };\n}\nexport function updateBook(data) {\n  console.log(data);\n  var request = axios.post(\"http://localhost:5001/api/book_update\", _objectSpread({}, data)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'UPDATE_BOOK',\n    payload: request\n  };\n}\nexport function deleteBook(id) {\n  var request = axios.delete(\"http://localhost:5001/api/delete_book?id=\".concat(id)).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'DELETE_BOOK',\n    payload: request\n  };\n}\nexport function clearBook(id) {\n  return {\n    type: 'CLEAR_BOOK',\n    payload: {\n      book: null,\n      updateBook: false,\n      postDeleted: false\n    }\n  };\n}\nexport function getUsers() {\n  var request = axios.get(\"http://localhost:5001/api/users\").then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'GET_USER',\n    payload: request\n  };\n}\nexport function userRegister(user, userList) {\n  var request = axios.post(\"http://localhost:5001/api/register\", user).then(function (response) {\n    return response.data;\n  });\n  return {\n    type: 'GET_USER',\n    payload: request\n  };\n}","map":{"version":3,"sources":["/home/avsingh999/x-men/book-shelf/frontend/src/actions/index.js"],"names":["axios","getBooks","limit","start","order","list","request","get","then","response","data","type","payload","getBookWReviewer","id","console","log","dispatch","book","ownerId","reviewer","clearBookWReviewer","loginUser","email","password","post","withCredentials","auth","addBook","clearNewBook","getUserPost","userId","getBook","updateBook","deleteBook","delete","clearBook","postDeleted","getUsers","userRegister","user","userList"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport function getBooks(\n    limit=10,\n    start=0,\n    order='asc',\n    list = ''\n){\n    const request = axios.get(`http://localhost:5001/api/books?limit=${limit}&skip=${start}&order=${order}`)\n                        .then(response =>{\n                            if(list){\n                                return[...list,...response.data]\n                            }\n                            else{\n                                return response.data\n                            }\n                        } )\n    return{\n        type:'GET_BOOKS',\n        payload:request\n    }\n}\n\n\nexport function getBookWReviewer(id){\n    console.log(id)\n    const request = axios.get(`http://localhost:5001/api/getBook?id=${id}`)\n    \n    return (dispatch) => {\n        request.then(({data})=>{\n            let book = data;\n            console.log(book.ownerId)\n            axios.get(`http://localhost:5001/api/getReviewer?id=${book.ownerId}`)\n            .then(({data})=>{\n                let response = {\n                    book,\n                    reviewer:data\n                }\n                dispatch({\n                    type:'GET_BOOK_W_REVIEWER',\n                    payload:response\n                })\n            })\n        })\n    }\n}\n\nexport function clearBookWReviewer(){\n    return{\n        type:\"CLEAR_BOOK_W_REVIEWER\",\n        payload:{\n            book:{},\n            reviewer:{}\n        }\n\n    }\n}\n\n\nexport function loginUser({email,password}){\n    const request = axios.post('http://localhost:5001/api/login',{email,password}, {withCredentials: true})\n                    .then( response => response.data)\n    return {\n        type:'USER_LOGIN',\n        payload:request\n\n    }\n}\n\n\nexport function auth(){\n    const request = axios.get('http://localhost:5001/api/auth',{withCredentials: true})\n                        .then( response => response.data)\n\n    return {\n        type:'USER_AUTH',\n        payload:request\n\n    }  \n}\n\nexport function addBook(book){\n    console.log(book)\n        const request = axios.post('http://localhost:5001/api/book',{...book})\n                            .then( response => response.data)\n    return {\n        type:'ADD_BOOK',\n        payload:request\n\n    }  \n}\n\nexport function clearNewBook(){\n    return {\n        type:'CLEAR_NEWBOOK',\n        payload:{}\n\n    }  \n}\n\nexport function getUserPost(userId){\n    const request = axios.get(`http://localhost:5001/api/user_posts?user=${userId}`)\n                    .then( response => response.data)\n                    // console.log(request)\n    return {\n        type:'GET_USER_POST',\n        payload:request\n    }  \n}\nexport function getBook(id){\n    console.log(id)\n    const request = axios.get(`http://localhost:5001/api/getBook?id=${id}`)\n    \n                    .then(response => response.data)\n\n        return {\n            type:'GET_BOOK',\n            payload:request\n        }\n}\n\nexport function updateBook(data){\n    console.log(data)\n    const request = axios.post(`http://localhost:5001/api/book_update`,{...data})\n                    .then(response => response.data)\n\n        return {\n            type:'UPDATE_BOOK',\n            payload:request\n        }\n}\n\nexport function deleteBook(id){\n    const request = axios.delete(`http://localhost:5001/api/delete_book?id=${id}`)\n                    .then(response => response.data)\n        \n        return {\n            type:'DELETE_BOOK',\n            payload:request\n        }\n}\n\n\nexport function clearBook(id){\n\n        \n        return {\n            type:'CLEAR_BOOK',\n            payload:{\n                book:null,\n                updateBook:false,\n                postDeleted:false\n            }\n        }\n}\n\n\nexport function getUsers(){\n    const request = axios.get(`http://localhost:5001/api/users`)\n                    .then(response => response.data)\n\n        return {\n            type:'GET_USER',\n            payload:request\n        }\n}\n\nexport function userRegister(user, userList){\n    const request = axios.post(`http://localhost:5001/api/register`,user)\n                    .then(response => response.data)\n\n        return {\n            type:'GET_USER',\n            payload:request\n        }\n}"]},"metadata":{},"sourceType":"module"}