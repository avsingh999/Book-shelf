{"ast":null,"code":"import _toConsumableArray from \"/home/avsingh999/x-men/book-shelf/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nexport function getBooks() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';\n  var list = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var request = axios.get(\"http://localhost:5001/api/books?limit=\".concat(limit, \"&skip=\").concat(start, \"&order=\").concat(order)).then(function (response) {\n    if (list) {\n      return _toConsumableArray(list).concat(_toConsumableArray(response.data));\n    } else {\n      return response.data;\n    }\n  });\n  return {\n    type: 'GET_BOOKS',\n    payload: request\n  };\n}\nexport function viewBook(id) {\n  var request = axios.get(\"http://localhost:5001/api/getBook?id=\".concat(id));\n  return function (dispatch) {\n    request.then(function (_ref) {\n      var data = _ref.data;\n      var book = data;\n      axios.get(\"http://localhost:5001/api/getBook?id=\".concat(book.ownerId)).then(function (_ref2) {\n        var data = _ref2.data;\n        var response = {\n          book: book,\n          reviewer: data\n        };\n        console.log(response);\n        dispatch({\n          type: 'GET_BOOK_W_REVIEWER',\n          payload: response\n        });\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/home/avsingh999/x-men/book-shelf/frontend/src/actions/index.js"],"names":["axios","getBooks","limit","start","order","list","request","get","then","response","data","type","payload","viewBook","id","dispatch","book","ownerId","reviewer","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,QAAT,GAKN;AAAA,MAJGC,KAIH,uEAJS,EAIT;AAAA,MAHGC,KAGH,uEAHS,CAGT;AAAA,MAFGC,KAEH,uEAFS,KAET;AAAA,MADGC,IACH,uEADU,EACV;AACG,MAAMC,OAAO,GAAGN,KAAK,CAACO,GAAN,iDAAmDL,KAAnD,mBAAiEC,KAAjE,oBAAgFC,KAAhF,GACKI,IADL,CACU,UAAAC,QAAQ,EAAG;AACb,QAAGJ,IAAH,EAAQ;AACJ,gCAAUA,IAAV,4BAAkBI,QAAQ,CAACC,IAA3B;AACH,KAFD,MAGI;AACA,aAAOD,QAAQ,CAACC,IAAhB;AACH;AACJ,GARL,CAAhB;AASA,SAAM;AACFC,IAAAA,IAAI,EAAC,WADH;AAEFC,IAAAA,OAAO,EAACN;AAFN,GAAN;AAIH;AAGD,OAAO,SAASO,QAAT,CAAkBC,EAAlB,EAAqB;AACxB,MAAMR,OAAO,GAAGN,KAAK,CAACO,GAAN,gDAAkDO,EAAlD,EAAhB;AAEA,SAAO,UAACC,QAAD,EAAc;AACjBT,IAAAA,OAAO,CAACE,IAAR,CAAa,gBAAU;AAAA,UAARE,IAAQ,QAARA,IAAQ;AACnB,UAAIM,IAAI,GAAGN,IAAX;AAEAV,MAAAA,KAAK,CAACO,GAAN,gDAAkDS,IAAI,CAACC,OAAvD,GACCT,IADD,CACM,iBAAU;AAAA,YAARE,IAAQ,SAARA,IAAQ;AACZ,YAAID,QAAQ,GAAG;AACXO,UAAAA,IAAI,EAAJA,IADW;AAEXE,UAAAA,QAAQ,EAACR;AAFE,SAAf;AAIAS,QAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ;AACAM,QAAAA,QAAQ,CAAC;AACLJ,UAAAA,IAAI,EAAC,qBADA;AAELC,UAAAA,OAAO,EAACH;AAFH,SAAD,CAAR;AAIH,OAXD;AAYH,KAfD;AAgBH,GAjBD;AAkBH","sourcesContent":["import axios from 'axios';\n\nexport function getBooks(\n    limit=10,\n    start=0,\n    order='asc',\n    list = ''\n){\n    const request = axios.get(`http://localhost:5001/api/books?limit=${limit}&skip=${start}&order=${order}`)\n                        .then(response =>{\n                            if(list){\n                                return[...list,...response.data]\n                            }\n                            else{\n                                return response.data\n                            }\n                        } )\n    return{\n        type:'GET_BOOKS',\n        payload:request\n    }\n}\n\n\nexport function viewBook(id){\n    const request = axios.get(`http://localhost:5001/api/getBook?id=${id}`)\n    \n    return (dispatch) => {\n        request.then(({data})=>{\n            let book = data;\n\n            axios.get(`http://localhost:5001/api/getBook?id=${book.ownerId}`)\n            .then(({data})=>{\n                let response = {\n                    book,\n                    reviewer:data\n                }\n                console.log(response)\n                dispatch({\n                    type:'GET_BOOK_W_REVIEWER',\n                    payload:response\n                })\n            })\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}